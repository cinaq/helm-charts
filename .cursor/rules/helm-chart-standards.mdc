---
description: Helm chart standards for versioning, structure, and Chart.yaml
alwaysApply: true
---

# Helm Chart Standards

## Chart Versioning

Follow Semantic Versioning (SemVer) for chart versions:

```yaml
# Chart.yaml
version: 0.1.6  # MAJOR.MINOR.PATCH

# Bump versions based on changes:
# - MAJOR: Breaking changes (e.g., removed values, incompatible upgrades)
# - MINOR: New features (e.g., new resources, new configurable options)
# - PATCH: Bug fixes, documentation updates
```

## Chart.yaml Requirements

All charts must have complete metadata:

```yaml
apiVersion: v2
name: app-generic
description: A clear, concise description of what this chart does
type: application
version: 0.1.0
appVersion: "1.0.0"
keywords:
  - lowops
  - application
maintainers:
  - name: Low-Ops Platform Team
```

## Directory Structure

Standard chart structure:

```
chart-name/
├── Chart.yaml          # Chart metadata
├── values.yaml         # Default configuration
├── README.md           # Chart documentation
├── .helmignore         # Files to exclude from packaging
├── templates/
│   ├── _helpers.tpl    # Template helpers
│   ├── NOTES.txt       # Post-install notes
│   ├── deployment.yaml # Resource templates
│   ├── service.yaml
│   ├── ingress.yaml
│   └── tests/          # Chart tests
│       └── test-connection.yaml
└── ci/                 # CI/CD test values (optional)
    └── test-values.yaml
```

## Required Files

Every chart must include:
- ✅ Chart.yaml with complete metadata
- ✅ values.yaml with all configurable options
- ✅ README.md with usage instructions
- ✅ templates/_helpers.tpl with standard helpers
- ✅ templates/NOTES.txt with post-install guidance

## Naming Conventions

- Chart names: lowercase, hyphen-separated (e.g., `app-generic`)
- Template files: lowercase, descriptive (e.g., `networkpolicy.yaml`)
- Helper templates: prefix with chart name (e.g., `app-generic.fullname`)
- Release names: will be provided by users, no assumptions

## Chart Dependencies

If using dependencies, declare in Chart.yaml:

```yaml
dependencies:
  - name: postgresql
    version: "12.x.x"
    repository: https://charts.bitnami.com/bitnami
    condition: postgresql.enabled
```

## Linting

All charts must pass:
```bash
helm lint charts/chart-name/
helm template charts/chart-name/ --debug
```
